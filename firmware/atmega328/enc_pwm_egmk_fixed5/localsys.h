

// power     is PB4
// direction is PB2

 // Rues LM18200 setup
 #define  MotorForward()  SetBit(2, PORTB) ;    SetBit(3, PORTB)    
 #define  MotorReverse()  ClearBit(2, PORTB);   SetBit(3, PORTB)  
 #define  MotorOff()      ClearBit(2, PORTB) ;  ClearBit(3, PORTB)  



 uint8_t VLUT[256] = {
     135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,135,
     135,119,103,98,93,87,82,78,76,73,70,68,65,63,60,58,55,52,50,47,45,42,
     40,39,38,38,37,36,36,35,34,34,33,33,32,31,31,30,29,29,28,27,27,26,25,
     25,24,24,23,22,22,21,20,20,19,19,19,18,18,18,17,17,17,16,16,16,15,15,
     15,14,14,14,14,14,14,14,14,13,13,13,13,13,13,13,13,12,12,12,12,12,12,
     12,12,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,10,10,
     10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,9,9,9,9,9,9,9,
     9,9,9,9,9,9,9,9,9,9,9,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
     8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
     8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,0
};


// self-learn data... (shift 4)
/*
uint8_t VLUT[256] = {
  128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,
  128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,128,
  128,128,42,41,38,38,36,37,35,34,35,33,32,32,29,30,31,31,26,31,29,29,28,23,27,26,27,
  24,24,25,26,23,23,24,24,22,21,22,22,24,20,21,19,21,20,15,18,19,19,19,17,20,17,17,14,
  17,16,13,16,16,16,16,15,15,15,14,16,14,13,15,15,14,13,15,13,12,13,12,15,14,13,12,12,
  12,11,12,12,12,17,11,11,12,10,0,11,10,11,16,11,0,3,1,11,0,1,0,1,1,0,1,1,1,0,1,0,1,0,
  1,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,1,0,0,0,0,0,1,0,0,0,0,0,0,
  0,0,0,3,1,0,0,0,1,0,2,1,2,0,5,0,2,0,3,0,0,1,0,8,0,1,0,2,2,0,0,3,4,7,0,4,1,0,1,0,0,2,
  8,0,0,0,1,7,7,7,3,2,6,7,1
};
*/


// Gear Reduction Ratio obfuscated_d: 1/362, Each Loop Output Pulses: 12PPR 362*12=4344PPR;

// step size of 1260 means Rue gets 36 degrees per step

// #define step 1260
// #define step 630
// #define step 315
// #define  step  144
// #define  step  72
// #define  step  36
#define step 63

#define VELOCITYSCALE 4
